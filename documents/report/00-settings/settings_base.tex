% ==================
% Template settings
% ==================

\documentclass[a4paper,11pt,fleqn]{book}

% Language and encoding
% ---------------------
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english,french]{babel}


\selectlanguage{french}

% General tools
% -------------
\usepackage{etoolbox}

% Page style
% ----------
\usepackage[a4paper,top=25mm,bottom=25mm,inner=30mm,outer=20mm]{geometry}
\usepackage{fancyhdr}
\setlength{\headheight}{14pt}
\renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}}
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0pt}
\fancyhead[OR]{\bfseries \nouppercase{\rightmark}}
\fancyhead[EL]{\bfseries \nouppercase{\leftmark}}
\fancyfoot[EL,OR]{\thepage}
\fancypagestyle{plain}{
	\fancyhf{}
	\renewcommand{\headrulewidth}{0pt}
	\renewcommand{\footrulewidth}{0pt}
	\fancyfoot[EL,OR]{\thepage}}
\fancypagestyle{addpagenumbersforpdfimports}{
	\fancyhead{}
	\renewcommand{\headrulewidth}{0pt}
	\fancyfoot{}
	\fancyfoot[RO,LE]{\thepage}
}

% Use plain style for empty page when clearing
\makeatletter
\def\cleardoublepage{\clearpage\if@twoside \ifodd\c@page\else
	\hbox{}
	\thispagestyle{empty}
	\newpage
	\if@twocolumn\hbox{}\newpage\fi\fi\fi}
\makeatother \clearpage{\pagestyle{plain}\cleardoublepage}

% Fonts
% -----
\usepackage{tgheros}                       % Sans serif
\usepackage[bitstream-charter]{mathdesign} % Serif
\usepackage{sourcecodepro}                 % Monospace

% Math
% ----
\usepackage{amsmath}  % better math

% Floats and figures
% ------------------
\usepackage{float}                                  % floats
\usepackage[small,justification=centering]{caption} % captions
\usepackage{subcaption}

% Caption with source for figure
\newcommand*{\captionsource}[2]{%
	\caption[{#1}]{%
		#1%
		
		\textbf{Source:} #2%
	}%
}

% Tables
% ------
\usepackage{booktabs}
\usepackage{multirow}

% Bibliography
% -------------------
\usepackage[
backend=biber,
bibencoding=auto,
sorting=nty,
defernumbers=true
]{biblatex}
\addbibresource{03-tail/bibliography.bib}


% Colors & graphics
% -----------------
\usepackage[table]{xcolor}    % colors
\usepackage[pdftex]{graphicx} % graphics importing
\graphicspath{{img/}}
\definecolor{gray80}{gray}{0.80}

% Paragraphs
% ----------
\usepackage{csquotes}                    % paragraph indentation and spacing
\usepackage[defaultlines=3,all]{nowidow} % avoid widows and orphans
\usepackage{microtype}                   % typographic improvements
\usepackage{parskip}                     % No indent and auto-space between paragraphs


% Section and chapters headings
% -----------------------------
\usepackage{titlesec} % section titles formatting
\usepackage{sectsty}  % sectioning commands

% -- Sections --

% -- Chapters --
% Remove "Chapter N" and use a sans-serif font
\titleformat{\chapter}[block]
{\Huge}
{\thechapter\hspace{12pt}\textcolor{gray80}{|}\hspace{12pt}}
{0pt}
{\Huge\bfseries}

\titlespacing*{\chapter}
{0pt}
{-20pt}
{20pt}

% Use a sans-serif font
%\allsectionsfont{\sffamily\bfseries}


% Code and syntax highlighting
% ----------------------------
\usepackage{minted}   % code highlighting


% Page style
% -----------------


% References
% -----------
\usepackage{url}
\usepackage{hyperref}

% Misc
% ------
\usepackage{lipsum}    % filler text
\usepackage{lscape}    % easy landscape pages
\usepackage{pdflscape} % landscape pages for PDFs

% Glossary
% --------
\usepackage[xindy,toc]{glossaries}
\input{03-tail/glossary.tex}
\makeglossaries

\usepackage{listings}  